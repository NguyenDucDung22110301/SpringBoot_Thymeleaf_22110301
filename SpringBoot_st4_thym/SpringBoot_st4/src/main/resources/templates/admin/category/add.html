<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layout-admin.html}">
<head>
	<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous">
	<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
			crossorigin="anonymous">
	</script>
</head>
<body>
	<section class="row" layout:fragment="content">
		<div class="col-6 offset-3 mt-4">
			<form th:action="@{/admin/categories/save}" method="POST"
				th:object="${category}">
				<div class="card">
					<div class="card-header">
						<h2
							th:text="${category.isEdit} ? 'Edit Category' : 'Add New Category'">Add
							New Category</h2>
					</div>
					<div class="card-body">
						<div class="mb-3" th:if="${category.isEdit}">
							<label for="id" class="form-label">Category ID :</label>
							<input type="hidden" th:field="*{isEdit}">
							<input type="text" readonly="readonly" class="form-control" th:field="*{id}" id="id" name="id" 
									aria-describedby="categoryIdid" placeholder="Category Id">
							<div th:if="${#fields.hasErrors('id')}" id="categoryIdid" class="form-text text-muted"><span class="text-danger">Category ID is required !</span></div>
						</div>
						<div class="mb-3">
							<label for="name" class="form-label">Category Name:</label> <input
								type="text" class="form-control" th:field="*{name}" id="name"
								placeholder="Category Name">
						</div>
						<div class="mb-3">
							<label for="images">Images:</label> <input type="text"
								class="form-control" th:field="*{images}" id="images"
								placeholder="Enter images">
						</div>
						<div class="mb-3">
							<label for="status">Status:</label> <input type="number"
								class="form-control" th:field="*{status}" id="status"
								placeholder="Enter 1 for Active or 0 for Inactive" min="0"
								max="1">
						</div>
					</div>
					<!-- Nút Update nếu đang ở chế độ chỉnh sửa -->
					<button type="submit" th:if="${category.isEdit}"
						class="btn btn-primary">Update</button>

					<!-- Nút Insert nếu không ở chế độ chỉnh sửa -->
					<button type="submit" th:if="${!category.isEdit}"
						class="btn btn-primary">Insert</button>

				</div>
			</form>
		</div>
	</section>
</body>

</html>
